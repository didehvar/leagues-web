function scheduleMigration(){if(ischromeurl(getcurrenturl()))return console_log("Delaying migration check"),void setTimeout(scheduleMigration,3e4);refreshFormfillMigrationFeatureFlag(function(){console_log("Checking migration status"),g_formfill_migration_enabled&&g_blob_version.version<20170404140712&&sendLpImprove("migration::formfill::due"),MigrationBackground.subscribeToState(function(e){e||LPPlatform.getCurrentTab(function(e){console.log(e),sendCS(e.tabDetails.tabID,{cmd:"show_migration_popup"})})}),Migrator.executeMigrations(),scheduleMigration.isScheduled=!1})}function refreshFormfillMigrationFeatureFlag(e){var i=localStorage_getItem("formfill_feature_last_check");if(!i||new Date(i).getDate()!==(new Date).getDate())return console_log("Refreshing formfill feature flag"),void Feature.isEnabled("formfill_migration",is_firefox()?"ff":"cr",function(i){console_log("Formfill feature enabled status: "+i),localStorage_setItem("formfill_feature_last_check",new Date),g_formfill_migration_enabled=i,e()});e()}scheduleMigration.isScheduled=!1;